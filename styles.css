/* =========================================================
   Codaris — mobile OK (Option A), burger clickable,
   light-only, tiles desktop + gradient mobile,
   services & work carousels auto, vertical timeline mobile
========================================================= */

/* THEME (light only) */
:root{
  --bg:#f7f8fb; --surface:#ffffff; --text:#111827; --muted:#596072;
  --violet:#7c3aed; --cyan:#06b6d4; --coral:#ff7a59;
  --ring:rgba(6,182,212,.25); --card:rgba(0,0,0,.04);
  --radius:16px; --shadow:0 12px 30px rgba(0,0,0,.15);
  --font-head:"Sora",system-ui,-apple-system,Segoe UI,Inter,Roboto,"Helvetica Neue",Arial,sans-serif;
  --font-body:"Inter",system-ui,-apple-system,Segoe UI,Inter,Roboto,"Helvetica Neue",Arial,sans-serif;

  --tile-size:80px; --tile-border:rgba(0,0,0,.06);
  --tile-bg:rgba(0,0,0,.02); --tile-bg-hover:rgba(0,0,0,.05);
  --stroke-soft:rgba(0,0,0,.10); --stroke-softer:rgba(0,0,0,.08); --stroke-strong:rgba(0,0,0,.18);
  --hero-vignette-top:rgba(0,0,0,.08); --hero-vignette-bottom:rgba(0,0,0,.10);
}

/* RESET */
*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
html,body{ min-height:100%; }
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:var(--font-body); line-height:1.6;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
  transition: background .4s ease, color .4s ease; overflow-x:hidden;
}
img{ max-width:100%; display:block; }
a{ color:inherit; text-decoration:none; }
::selection{ background: rgba(124,58,237,.28); color:#fff; }
:focus-visible{ outline:3px solid var(--cyan); outline-offset:3px; }

/* LAYOUT */
.container{ width:min(1200px,92%); margin-inline:auto; position:relative; z-index:2; }
.container-bleed{ width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw); }
.section{ padding:70px 0; }
.section__head{ margin-bottom:20px; }
.section__title{ font-family:var(--font-head); font-size:clamp(28px,4.4vw,40px); margin:0 0 6px; }
.section__kicker{ color:var(--muted); margin:0; }
.grid.two{ display:grid; gap:20px; grid-template-columns:1fr 1fr; }
.grid.four{ display:grid; gap:20px; grid-template-columns:repeat(4,1fr); }
@media (max-width:1000px){ .grid.four{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:620px){ .grid.four, .grid.two{ grid-template-columns:1fr; } }

/* HEADER / NAV */
.site-header{
  position:sticky; top:0; z-index:2000; /* au-dessus de tout */
  backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
}
.site-header::after{ content:""; display:block; height:1px; background:var(--stroke-softer); transform:translateY(-1px); }
.nav{ display:flex; align-items:center; justify-content:space-between; padding:14px 0; gap:18px; }
.logo{ display:flex; align-items:center; gap:10px; font-weight:700; color:var(--text); }
.logo__img{ width:34px; height:34px; object-fit:contain; }
.logo__word{ font-family:var(--font-head); text-transform:lowercase; letter-spacing:.2px; }

.nav__links{ list-style:none; display:flex; gap:20px; margin:0; padding:0; }
.nav__link{ position:relative; padding:6px 0; font-weight:600; }
.nav__link::after{ content:""; position:absolute; left:0; right:100%; bottom:-2px; height:2px; background:linear-gradient(90deg,#7c3aed,#06b6d4); transition:right .25s; }
.nav__link:hover::after{ right:0; }
.nav__actions{ display:flex; gap:10px; align-items:center; }
.nav__mobile-actions{ display:none; }

/* BURGER */
.burger{ display:none; flex-direction:column; justify-content:center; gap:5px; width:32px; height:24px; background:none; border:0; cursor:pointer; z-index:2100; }
.burger span{ height:3px; width:100%; border-radius:2px; background:var(--text); transition:all .3s; }
.burger.active span:nth-child(1){ transform:translateY(9px) rotate(45deg); }
.burger.active span:nth-child(2){ opacity:0; }
.burger.active span:nth-child(3){ transform:translateY(-9px) rotate(-45deg); }

/* MOBILE NAV OVERLAY — Option A: pointer-events fix */
@media (max-width:780px){
  .burger{ display:flex; }
  .nav__links{
    position:fixed; inset:0; top:-100vh;
    display:flex; flex-direction:column; align-items:center; justify-content:center; gap:28px;
    background:rgba(255,255,255,.96); color:#111;
    backdrop-filter:blur(14px); -webkit-backdrop-filter:blur(14px);
    transition: top .45s ease; padding:0; margin:0; z-index:2050;

    /* Option A — fermé : ne capte rien */
    pointer-events: none;
  }
  .nav__links.open{
    top:0;
    /* Option A — ouvert : cliquable */
    pointer-events: auto;
  }
  .nav__links a{ font-size:1.4rem; font-family:var(--font-head); }
  .nav__actions{ display:none; }
  .nav__mobile-actions{ display:flex; gap:12px; flex-wrap:wrap; }
  .btn.small{ padding:9px 12px; font-size:.95rem; }
}

/* BUTTONS */
.btn{
  position:relative; border:0; border-radius:999px; padding:12px 18px; cursor:pointer;
  font-weight:700; color:#fff; background:linear-gradient(135deg,#7c3aed,#06b6d4);
  box-shadow:var(--shadow);
  transition:transform .18s cubic-bezier(.2,.7,.2,1), box-shadow .25s, opacity .2s, background .25s;
}
.btn.big{ padding:14px 22px; font-size:1.05rem; }
.btn:hover{ transform:translateY(-3px); box-shadow:0 18px 46px rgba(0,0,0,.25); }
.btn.ghost{ background:transparent; color:var(--text); border:1px solid var(--stroke-softer); }

/* HERO */
.hero{
  position:relative; isolation:isolate; display:grid; place-items:center; min-height:78vh; margin-top:0;
  border-radius:0; overflow:hidden; background:linear-gradient(180deg, rgba(0,0,0,.03), rgba(0,0,0,0));
  z-index:0;
}
.hero__content{ text-align:center; position:relative; z-index:3; padding:16px; }
.hero__title{ font-family:var(--font-head); font-size:clamp(32px,6vw,60px); margin:0 0 14px; line-height:1.08; }
.hero__ctas{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }
@media (max-width:780px){
  .hero__ctas .btn{ padding:10px 14px; font-size:.98rem; }
  .btn.big{ padding:12px 16px; font-size:1rem; }
}

/* Vignette lisibilité et neutre pour les clics */
.hero::before{
  content:""; position:absolute; inset:0; z-index:1; pointer-events:none;
  background:
    radial-gradient(1200px 600px at 50% 12%, var(--hero-vignette-top), transparent 55%),
    radial-gradient(900px 520px at 50% 120%, var(--hero-vignette-bottom), transparent 60%);
}

/* Tiles (desktop) */
.tiles{
  --size: var(--tile-size);
  position:absolute; inset:0; display:grid; z-index:2;
  /* IMPORTANT: les tiles sont interactives, mais ne doivent pas recouvrir le header */
  grid-template-columns:repeat(auto-fill, var(--size));
  grid-auto-rows: var(--size);
  filter: blur(3px) saturate(1.1);
}
.tile{ border:1px solid var(--tile-border); background:var(--tile-bg); transition: background-color .2s, border-color .2s; position:relative; }
.tile::after{ content:""; position:absolute; inset:0; background: radial-gradient(260px circle at var(--mx,50%) var(--my,50%), rgba(6,182,212,.22), transparent 60%); opacity:0; transition:opacity .2s; }
.tile:hover{ background:var(--tile-bg-hover); border-color:var(--stroke-strong); }
.tile:hover::after{ opacity:1; }

/* Mobile: pas de tiles, gradient animé léger */
@media (max-width:780px){
  .tiles{ display:none !important; }
  .hero{
    background:
      radial-gradient(900px 500px at 20% -10%, rgba(124,58,237,.10), transparent 60%),
      radial-gradient(800px 500px at 80% 110%, rgba(6,182,212,.12), transparent 60%),
      var(--bg);
    animation: heroShift 14s ease-in-out infinite alternate;
  }
  @keyframes heroShift{
    from { background-position: 0 0, 0 0, 0 0; }
    to { background-position: 20px -10px, -20px 10px, 0 0; }
  }
}

/* CARDS */
.card{
  background:var(--surface); border:1px solid var(--stroke-softer);
  border-radius:16px; padding:18px; box-shadow:var(--shadow);
  transition:transform .22s cubic-bezier(.2,.7,.2,1), box-shadow .22s, border-color .22s, background .22s;
}
.card:hover{ transform:translateY(-6px) scale(1.015); box-shadow:0 18px 46px rgba(0,0,0,.18); border-color:var(--stroke-strong); }

/* WORK MARQUEE */
.marquee{ overflow:hidden; border-radius:16px; border:1px solid var(--stroke-softer); background:var(--surface); }
.track{ display:flex; gap:16px; padding:16px; will-change:transform; }
.slide{
  flex:0 0 340px; display:flex; flex-direction:column; gap:8px; color:var(--text);
  background:var(--card); border:1px solid var(--stroke-softer); border-radius:14px; overflow:hidden; padding:12px;
  transition:transform .2s, border-color .2s, background-color .2s;
}
.slide:hover{ transform:translateY(-4px); border-color:var(--stroke-strong); background:rgba(0,0,0,.03); }
.slide__img{ position:relative; aspect-ratio:16/9; overflow:hidden; }
.slide__img img{ width:100%; height:100%; object-fit:cover; display:block; }
.slide__txt{ padding-top:6px; font-weight:600; }

/* SERVICES CAROUSEL MOBILE */
.svc-carousel{ display:none; }
@media (max-width:780px){
  #servicesList{ display:none !important; }
  .svc-carousel{ display:block; overflow:auto; scroll-snap-type:x mandatory; -webkit-overflow-scrolling: touch; }
  .svc-track{ display:flex; gap:14px; padding:6px 2px; }
  .svc-carousel .card{ flex:0 0 84%; scroll-snap-align:center; }
}

/* TIMELINE */
.timeline-h{
  position:relative; padding:28px 24px 34px; border:1px solid var(--stroke-softer);
  background:var(--surface); border-radius:16px; overflow:hidden;
}
.tl-bar{
  position:absolute; left:24px; right:24px; top:50%; height:4px; transform:translateY(-50%);
  background:linear-gradient(90deg, rgba(124,58,237,.28), rgba(6,182,212,.28)); border-radius:4px;
}
.tl-progress{
  position:absolute; left:24px; top:calc(50% - 2px); height:4px; width:calc(100% - 48px);
  transform-origin:0 50%; transform:scaleX(0); border-radius:4px;
  background:linear-gradient(90deg, #7c3aed, #06b6d4); box-shadow:0 0 24px rgba(124,58,237,.35);
  transition:transform .6s ease-out;
}
.tl-steps{ list-style:none; margin:0; padding:0; display:grid; grid-template-columns:repeat(5, minmax(120px,1fr)); align-items:center; gap:22px; }
.step{ position:relative; display:flex; flex-direction:column; align-items:center; gap:8px; text-align:center; z-index:1; }
.step .dot{
  width:40px; height:40px; display:grid; place-items:center; font-weight:800; color:#fff;
  border-radius:999px; background:linear-gradient(135deg, #7c3aed, #06b6d4); box-shadow:0 12px 30px rgba(0,0,0,.18);
}
.step .label{ font-weight:700; padding:8px 12px; border-radius:12px; background:var(--card); border:1px solid var(--stroke-softer); }

/* Vertical mobile (label à droite du chiffre) */
@media (max-width:780px){
  .tl-bar{ left:32px; right:auto; top:24px; bottom:24px; height:auto; width:4px; transform:none;
    background:linear-gradient(180deg, rgba(124,58,237,.28), rgba(6,182,212,.28)); }
  .tl-progress{
    left:32px; top:24px; width:4px; height:calc(100% - 48px);
    transform-origin:50% 0; transform:scaleY(0);
    background:linear-gradient(180deg, #7c3aed, #06b6d4);
  }
  .tl-steps{
    display:flex; flex-direction:column; align-items:flex-start; gap:16px;
    margin-left:64px;
  }
  .step{ flex-direction:row; align-items:center; gap:12px; text-align:left; }
  .step .label{ padding:6px 10px; }
}

/* CONTACT & FOOTER */
.contact{ align-items:start; }
.contact__panel{ background:var(--card); padding:18px; border-radius:16px; border:1px solid var(--stroke-softer); }
.contact__list{ list-style:none; padding:0; margin:12px 0 8px; display:grid; gap:6px; }
.form{ display:grid; gap:12px; }
.field{ display:grid; gap:6px; }
.field input, .field textarea{
  width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--stroke-soft);
  background:rgba(0,0,0,.02); color:var(--text); outline:none; transition:box-shadow .2s, border-color .2s, background .2s;
}
.field input:focus, .field textarea:focus{ border-color:#7c3aed; box-shadow:0 0 0 6px var(--ring); }
.small{ font-size:.92rem; }
.muted{ color:var(--muted); }
.site-footer{ padding:46px 0 80px; color:var(--muted); text-align:center; }
